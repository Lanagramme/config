# ------------------------------------------------------------------------------
# Azaratg Metrion Zinthos - Bash Configuration
# Portable environment, fallback-safe
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Load generic profile first
# ------------------------------------------------------------------------------
[[ -f "$HOME/.profile" ]] && source "$HOME/.profile"

# ------------------------------------------------------------------------------
# Paths
# ------------------------------------------------------------------------------
export PATH="/usr/local/bin:$HOME/.local/bin:$HOME/script:$PATH"

# ------------------------------------------------------------------------------
# History
# ------------------------------------------------------------------------------
HISTFILE=~/.bash_history
HISTSIZE=10000
HISTCONTROL=ignoreboth:erasedups
shopt -s histappend
PROMPT_COMMAND="history -a; $PROMPT_COMMAND"

# ------------------------------------------------------------------------------
# Aliases
# ------------------------------------------------------------------------------
[[ -f ~/.bash_aliases ]] && source ~/.bash_aliases

# ------------------------------------------------------------------------------
# Wal (if available)
# ------------------------------------------------------------------------------
[[ -f ~/.cache/wal/sequences ]] && cat ~/.cache/wal/sequences &!

# ------------------------------------------------------------------------------
# zoxide (if available)
# ------------------------------------------------------------------------------
if command -v zoxide >/dev/null 2>&1; then
  eval "$(zoxide init --cmd cd bash)"
fi

# ------------------------------------------------------------------------------
# Shell Tools Tracker integration
# Only minimal pollution on interactive shells
# ------------------------------------------------------------------------------
if [[ -x "$HOME/scripts/shell_tools_tracker.sh" && $- == *i* ]]; then
  source "$HOME/scripts/shell_tools_tracker.sh"
fi

