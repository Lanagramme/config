#!/bin/sh

# X11 session setup
# Safe for display managers and startx
# Forgiving, distro-agnostic, WM-agnostic

# --- helpers ----------------------------------------------------

# run a command only once per user session
run_once() {
    command -v "$1" >/dev/null 2>&1 || return 0
    pgrep -u "$USER" -x "$1" >/dev/null 2>&1 || "$@" &
}

# --- X11 behavior ----------------------------------------------

# Disable system bell
if command -v xset >/dev/null 2>&1; then
    xset -b
fi

# --- clipboard -------------------------------------------------

# Persistent clipboard history (rofi-friendly)
run_once greenclip daemon

